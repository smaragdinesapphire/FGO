function main(){function y(n){var t=c[n];f.set_content({item_name:n,list:t});f.show();f.refresh()}function v(n){var t=document.getElementById(n);window.scrollTo(0,t.offsetTop)}var o=FGO.cookie,t=FGO.language_manager,i,u,e,l,n,r,a,p;t.set_language(o.load_language());i=FGO.info_manager;u=FGO.minimize_manager;u.set_quest_manager(i);var c=i.get_item2quest_list(),s=document.querySelector("#content"),h=NewObj("div","main_content"),f=FGO.component.factory("Dialog");f.hide();f.render(s);e=new FGO.panel.Processing_dialog_panel;e.hide();e.render(s);l=new FGO.panel.Header_panel;l.onChange.subscribe(function(n,t){o.save_language(t[0]);location.reload()});l.render(s);n=new FGO.panel.User_input_panel;n.render(h);n.onInfoClick.subscribe(function(n,i){y(t.get_JP_word(i[0]))});n.onOtherChange.subscribe(function(n,t){i.set_event(t[0]);c=i.get_specify_item2quest_list({event:!0,get_CP:!1})});n.onCalculate.subscribe(function(){var o=n.get_result(),f,h=!1,s={},c={};for(f in o.item_list)o.item_list[f]&&(h||(h=!0),s[t.get_JP_word(f)]=o.item_list[f]);if(h){e.show();i.set_target_item_list(s);i.set_schedule(t.get_JP_word(o.other_setting.schedule));for(f in o.other_setting.event)c[t.get_JP_word(f)]=o.other_setting.event[f];u.set_event_status(c);u.set_target_item_list(s);u.get_result(function(n){var c={},f,i,u,o,h,l;for(f in n.item_list)c[t.get_word(f)]=n.item_list[f];i={};for(u in n.times_list){h=t.get_word(u);i[h]={};for(o in n.times_list[u])i[h][t.get_word(o)]=n.times_list[u][o]}l={AP:n.AP,times_list:i,item_list:c};r.set_target_item_list(s);r.set_value(l);r.show();r.refresh();v("result_panel");e.hide()})}});n.onSave.subscribe(function(){var t=n.get_result();o.save_user_setting(t)});n.onLoad.subscribe(function(){var t=o.load_user_setting();n.set_user_setting(t);i.set_event(t.other_setting.event);c=i.get_specify_item2quest_list({event:!0,get_CP:!1})});n.onReset.subscribe(function(){v("user_input_panel")});r=new FGO.panel.Result_panel;r.onInfoClick.subscribe(function(n,i){y(t.get_JP_word(i[0]))});r.hide();r.render(h);a=NewObj("div","top","Top");a.onclick=function(){v("header_panel")};h.appendChild(a);s.appendChild(h);n.refresh();p=document.querySelector("#footer");p.style.display=""}window.onload=function(){main()};