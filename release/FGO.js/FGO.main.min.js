function main(){function y(n){var t=v[n];f.set_content({item_name:n,list:t});f.show();f.refresh()}function a(n){var t=document.getElementById(n);window.scrollTo(0,t.offsetTop)}var u,t,r,o,e,c,n,i,l;JIE.isDebug=!0;u=FGO.cookie;t=FGO.language_manager;t.set_language(u.load_language());r=FGO.info_manager;o=FGO.minimize_manager;o.set_quest_manager(r);var v=r.get_item2quest_list(),s=document.querySelector("#content"),h=NewObj("div","main_content"),f=FGO.component.factory("Dialog");f.hide();f.render(s);e=new FGO.panel.Processing_dialog_panel;e.hide();e.render(s);c=new FGO.panel.Header_panel;c.onChange.subscribe(function(n,t){u.save_language(t[0]);location.reload()});c.render(s);n=new FGO.panel.User_input_panel;n.render(h);n.onInfoClick.subscribe(function(n,i){y(t.get_JP_word(i[0]))});n.onOtherChange.subscribe(function(n,t){r.set_event(t[0]);v=r.get_specify_item2quest_list({event:!0,get_CP:!1})});n.onCalculate.subscribe(function(){var u=n.get_result(),f,h=!1,s={};for(f in u.item_list)u.item_list[f]&&(h||(h=!0),s[t.get_JP_word(f)]=u.item_list[f]);h&&(e.show(),r.set_target_item_list(s),r.set_schedule(t.get_JP_word(u.other_setting.schedule)),o.set_target_item_list(s),o.get_result(function(n){var c={},f,r,u,o,h,l;for(f in n.item_list)c[t.get_word(f)]=n.item_list[f];r={};for(u in n.times_list){h=t.get_word(u);r[h]={};for(o in n.times_list[u])r[h][t.get_word(o)]=n.times_list[u][o]}l={AP:n.AP,times_list:r,item_list:c};i.set_target_item_list(s);i.set_value(l);i.show();i.refresh();a("result_panel");e.hide()}))});n.onSave.subscribe(function(){var t=n.get_result();u.save_user_setting(t)});n.onLoad.subscribe(function(){var t=u.load_user_setting();n.set_user_setting(t)});n.onReset.subscribe(function(){a("user_input_panel")});i=new FGO.panel.Result_panel;i.onInfoClick.subscribe(function(n,i){y(t.get_JP_word(i[0]))});i.hide();i.render(h);l=NewObj("div","top","Top");l.onclick=function(){a("header_panel")};h.appendChild(l);s.appendChild(h);n.refresh()}window.onload=function(){main()};