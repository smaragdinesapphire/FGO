function gcd(n,t){var i,r;for(n=Math.abs(n),t=Math.abs(t),n<t&&(r=n,n=t,t=r);t>0;)i=n%t,n=t,t=i;return n}function lcm(n,t){return n*t/gcd(n,t)}function shiftRight(n,t){return Math.pow(10,t)*n}function roundSigDig(n,t){if(n==0||Math.abs(n)<1e-23)return 0;var r=Math.floor(Math.log(Math.abs(n))/Math.log(10))-t+1,i=shiftRight(Math.round(shiftRight(Math.abs(n),-r)),r);try{if(i=Number(i.toPrecision(t+3)),n>0)return i}catch(u){}return n>0?i:-i}function roundDec(n,t){return shiftRight(Math.round(shiftRight(n,t)),-t)}self===undefined&&(window.onerror=function(n){n=n.replace(/uncaught exception: /,"").replace(/Uncaught /,"");lp_reportErrorsTo=="alert"?alert("Error: "+n):lp_reportErrorsTo!=""&&(document.getElementById(lp_reportErrorsTo).innerHTML='<span style="color:indianred">'+n+"<\/span>")});lpProblem.prototype.solve=function(){function u(r){try{h(r)}catch(u){r.error=u;throw u;}try{l(r)}catch(u){r.error=u;throw u;}try{a(r)}catch(u){r.error=u;throw u;}if(r.isIntegral){if(r.status>=lp_no_solution)return!1;var f=r.solnIsOfRightType();f==-1?(r.status=Math.max(r.status,lp_optimal),t?(r.maximize&&r.objectiveValues[r.objectiveValues.length-1]>n||!r.maximize&&r.objectiveValues[r.objectiveValues.length-1]<n)&&(n=r.objectiveValues[r.objectiveValues.length-1],i=r.solutions[r.solutions.length-1],lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+="Best solution so far.<br>")):(t=!0,n=r.objectiveValues[r.objectiveValues.length-1],i=r.solutions[r.solutions.length-1],lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+="Best solution so far.<br>"))):!t||r.maximize&&r.objectiveValues[r.objectiveValues.length-1]>n||!r.maximize&&r.objectiveValues[r.objectiveValues.length-1]<n?v(r,f):lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+="Abandoning branch, no better solution to be found here.<br>");r.status=Math.max(r.status,lp_optimal)}else r.status>=lp_phase2&&(r.status=Math.max(r.status,lp_optimal));return!0}function h(n){if(n.tableaus.length>0&&n.unknowns.length>0){n.status=lp_parsed;return}if(n.systemMatrix.length>0&&n.constraintRHS.length>0){f(n);n.status=lp_parsed;return}if(n.objective!=""&&n.constraints.length>0){if(!n.objective.toString().isSanitary())throw lp_IllegCharsErr;for(var t=0;t<n.constraints.length;++t)if(!n.constraints[t].toString().isSanitary())throw lp_IllegCharsErr;o(n);s(n);f(n);n.status=lp_parsed;return}if(n.problemStr.replace(/\s/g,"")!=""){if(!n.problemStr.isSanitary())throw lp_IllegCharsErr;c(n);o(n);s(n);f(n);n.status=lp_parsed;return}throw lp_noLPErr;}function c(n){var t=","+n.problemStr.trim().toLowerCase().replace(/( |\t)+/g," "),f,u,r,e,o,i;if(t=t.replace(/subject to|sujeta a|sujeto a/,"subject to,"),t=t.replace(/≤/g,"<=").replace(/≥/g,">="),t=t.replace(/\r\n|\r|\n/g,","),t=t.replace(/ *, */g,","),t=t.replace(/,+(?=,)/g,""),t=t.replace(/(^,)|(,$)/g,""),f=t.search(/(integer)|(entero)|(entera)/gi),f>-1){if(n.integerUnknowns=t.substring(f).replace(/(integer)|(entero)|(entera)/gi,"").replace(/\ /g,"").split(","),n.integerUnknowns.length>0)for(n.isIntegral=!0,i=0;i<n.integerUnknowns.length;i++)n.integerMins[i]=-Infinity,n.integerMaxs[i]=Infinity;t=t.substring(0,f-1)}if(u=t.split(","),r=u[0],r=r.replace(/(imizar)|(imize)/,"").replace(/sujet/,"subject"),r.indexOf("max")==0)n.maximize=!0;else if(r.indexOf("min")==0)n.maximize=!1;else throw lp_UnspecMaxMinErr;for(e=r.indexOf("subject")==-1?r.substring(4):r.substring(4,Math.max(5,r.indexOf("subject")-1)),e.indexOf("=")>-1?(o=e.split("="),n.objectiveName=o[0].replace(/ /g,""),n.objective=o[1].replace(/ /g,"")):n.objective=e.replace(/ /g,""),i=1;i<u.length;i++){if(u[i].indexOf("=")==-1)throw lp_noRelationConstrErr;n.constraints.push(u[i].replace(/ /g,""))}return}function o(n){var t,r,u,i;if(n.objective=="")throw lp_objNotSetErr;for(t=("+"+n.objective).replace(/ /g,"").replace(/[\+\-][0-9.\/\(\)]*/g,",").split(","),r=0;r<n.constraints.length;r++)for(u=("+"+n.constraints[r]).replace(/ /g,"").replace(/[<>=]+[0-9.\/\(\)]+/,"").replace(/[\+\-][0-9.\/\(\)]*/g,",").split(","),i=1;i<u.length;i++)t.indexOf(u[i])==-1&&t.push(u[i]);t.shift();t.sort();n.unknowns=t;n.numActualUnknowns=n.unknowns.length;return}function s(n){var r,t,i,u,f;for(n.systemMatrix=[],n.constraintRHS=[],r=n.constraints.length,t=0;t<r;t++)n.constraints[t].search(/[<>]/)==-1&&(n.constraints.push(n.constraints[t].replace(/=/,"<=")),n.constraints[t]=n.constraints[t].replace(/=/,">="));for(t=1;t<=n.constraints.length;t++)i=n.constraints[t-1],n.systemRowIsStarred[t]=i.indexOf(">=")>-1,u=i.substring(0,i.indexOf("=")-1),f=i.substring(i.indexOf("=")+1),n.systemMatrix[t]=u.coefficients(n.unknowns),n.constraintRHS[t]=f.cleanEval();n.objectiveCoeffs=n.objective.coefficients(n.unknowns);return}function f(n){var h,s,f,i,c,t,o,u;if(n.unknowns=n.unknowns.slice(0,n.numActualUnknowns),h=0,n.isIntegral)for(t=0;t<n.integerUnknowns.length;t++)n.integerMins[t]>-Infinity&&h++,n.integerMaxs[t]<Infinity&&h++;for(s=n.systemMatrix.length+h,f=n.unknowns.length+s+1,n.tableauDimensions=[s,f],i=new tableau,i[0]=[],u=1;u<=n.unknowns.length;u++)i[0][u]=n.unknowns[u-1];for(c=1;u<n.unknowns.length+s;u++,c++)i[0][u]="s"+c.toString();for(i[0][u]=(n.maximize?"":"-")+n.objectiveName,n.rowIsStarred=n.systemRowIsStarred.slice(),t=1;t<n.systemMatrix.length;t++){for(i[t]=n.systemMatrix[t].slice(),i[t].unshift(i[0][n.unknowns.length+t]),n.rowIsStarred[t]&&(i[t][0]="*"+i[t][0]),u=1;u<s+1;u++)i[t].push(t!=u?0:n.rowIsStarred[t]?-1:1);i[t].push(n.constraintRHS[t])}if(n.isIntegral)for(o=0;o<n.integerUnknowns.length;o++)u=n.unknowns.indexOf(n.integerUnknowns[o]),n.integerMins[o]>-Infinity&&(i[t]=new Array(f+1).fill(0),i[t][0]="*"+i[0][n.unknowns.length+t],i[t][u+1]=1,i[t][n.unknowns.length+t]=-1,i[t][f]=n.integerMins[o],n.rowIsStarred[t]=!0,t++),n.integerMaxs[o]<Infinity&&(i[t]=new Array(f+1).fill(0),i[t][0]=i[0][n.unknowns.length+t],i[t][u+1]=1,i[t][n.unknowns.length+t]=1,i[t][f]=n.integerMaxs[o],n.rowIsStarred[t]=!1,t++);if(i[t]=n.objectiveCoeffs.slice(),i[t].unshift(i[0][f-1]),n.maximize)for(u=1;u<=n.unknowns.length;u++)i[t][u]*=-1;for(u=1;u<s+1;u++)i[t].push(t!=u?0:1);for(i[t].push(0),n.tableaus.push(i),n.tableauDimensions=[s,f],u=n.unknowns.length+1;u<i[0].length-1;u++)n.unknowns.push(i[0][u]);lp_verboseLevel>=lp_verbosity_tableaus&&(lp_trace_string+="&#160;<br>Tableau "+ ++r+":<br>",lp_trace_string+=n.tableaus[0].toHTML(n.mode,n.sigDigits,{}),lp_trace_string+="<br>");e(n);lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+=n.lastSolutionToString()+"<br>");return}function l(n){var l,i,h,a,v,w,f,o,s,y,t;if(!(n.status>=lp_phase1)){if(n.rowIsStarred.indexOf(!0)==-1){n.status=lp_phase1;return}for(var p=n.tableauDimensions[0],u=n.tableauDimensions[1],c=!1;n.status<lp_phase1;){if(l=n.tableaus.length-1,l>n.maxNumTableaus)throw lo_tooManyTabloeausErr+n.maxNumTableaus;for(i=n.tableaus[l],c=!1,t=1;t<=p-1;t++)if(roundSigDig(i[t][u],n.maxSigDigits)==0&&(i[t][u]=0),n.rowIsStarred[t]&&i[t][u]==0){for(c||(h=new tableau(i),c=!0),a=1;a<=u-1;a++)h[t][a]*=-1;n.rowIsStarred[t]=!1;h[t][0]=h[t][0].replace(/\*/,"")}if(c){if(n.tableaus.push(h),n.rowIsStarred.indexOf(!0)==-1){n.status=lp_phase1;return}i=n.tableaus[l+1]}if(v=n.rowIsStarred.indexOf(!0),Math.max.apply(null,i[v].slice(1,u-1).roundToSigDig(n.maxSigDigits))<=0){n.message=lp_emptyFeasibleRegionErr;n.status=lp_no_solution;return}for(w=Math.max.apply(null,i[v].slice(1,u-1)),f=0,o=0,o=i[v].indexOf(w),s=[],y=Infinity,t=1;t<=p-1;t++)s[t]=i[t][o]>0?roundSigDig(i[t][u]/i[t][o],n.maxSigDigits):Infinity,s[t]<y?(f=t,y=s[t]):s[t]==y&&Math.random()>.5&&(f=t);if(f==0){n.status=lp_no_solution;n.message=n.maximize?lp_noMaxErr:lp_noMinErr;return}if(lp_verboseLevel>lp_verbosity_solutions)try{lp_trace_string+=phase1Pivot(f,o,i,s)}catch(b){}if(n.rowIsStarred[f]=!1,n.tableaus.push(i.pivot(f,o,n.maxSigDigits)),lp_verboseLevel>=lp_verbosity_tableaus&&(lp_trace_string+="&#160;<br>Tableau "+ ++r+":<br>",lp_trace_string+=n.tableaus[n.tableaus.length-1].toHTML(n.mode,n.sigDigits,{}),lp_trace_string+="<br>"),e(n),lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+=n.lastSolutionToString()+"<br>"),n.rowIsStarred.indexOf(!0)==-1){n.status=lp_phase1;return}}return}}function a(n){var h,o,t;if(n.status<lp_phase1)throw lp_phase2TooSoonErr;else if(n.status>=lp_phase2)return;for(var c=n.tableauDimensions[0],l=n.tableauDimensions[1],i=0,u=0,s=Infinity;n.status<lp_phase2;){if(h=n.tableaus.length-1,h>n.maxNumTableaus)throw lo_tooManyTabloeausErr+n.maxNumTableaus;var f=n.tableaus[h],a=f[c].slice(1,l-1).roundToSigDig(n.maxSigDigits),v=Math.min.apply(null,a);if(negIndicator=v<0,i=0,u=0,negIndicator){for(u=a.indexOf(v)+1,o=[],s=Infinity,t=1;t<=c-1;t++)o[t]=f[t][u]>0?roundSigDig(f[t][l]/f[t][u],n.maxSigDigits):Infinity,o[t]<s?(i=t,s=o[t]):o[t]==s&&s!=Infinity&&Math.random()>.5&&(i=t);if(i==0){n.status=lp_no_solution;n.message=n.maximize?lp_noMaxErr:lp_noMinErr;return}if(lp_verboseLevel>lp_verbosity_solutions)try{lp_trace_string+=phase2Pivot(i,u,f,o)}catch(y){}n.tableaus.push(f.pivot(i,u,n.maxSigDigits));lp_verboseLevel>=lp_verbosity_tableaus&&(lp_trace_string+="&#160;<br>Tableau "+ ++r+":<br>",lp_trace_string+=n.tableaus[n.tableaus.length-1].toHTML(n.mode,n.sigDigits,{}),lp_trace_string+="<br>");e(n);lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+=n.lastSolutionToString()+"<br>")}else n.status=lp_phase2}return}function v(n,t){var f=n.solutions[n.solutions.length-1][t],s=n.unknowns[t],e=n.integerUnknowns.indexOf(s),r=new lpProblem(n),i;r.integerMaxs[e]=Math.floor(f);i=new lpProblem(n);i.integerMins[e]=Math.ceil(f);try{u(r)}catch(o){lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+=o+"<br>")}finally{lp_verboseLevel>=lp_verbosity_solutions&&i.message!=""&&(lp_trace_string+=i.message+"<br>");n.tableaus=n.tableaus.concat(r.tableaus)}try{u(i)}catch(o){lp_verboseLevel>=lp_verbosity_solutions&&(lp_trace_string+=o+"<br>")}finally{lp_verboseLevel>=lp_verbosity_solutions&&i.message!=""&&(lp_trace_string+=i.message+"<br>");n.tableaus=n.tableaus.concat(i.tableaus)}return!0}function e(n){for(var i,u,f=n.tableauDimensions[0],e=n.tableauDimensions[1],o=[],s=n.tableaus.length-1,r=n.tableaus[s],t=0;t<n.unknowns.length;t++)for(o[t]=0,i=1;i<f;i++)if(r[i][0].replace(/\*/g,"")==n.unknowns[t]){o[t]=r[i][e]/r[i][t+1];break}n.solutions.push(o);u=r[f][e]/r[f][e-1];n.maximize||(u=-u);n.objectiveValues.push(u);return}var t,n,i,r=0;return t=!1,lp_trace_string="",u(this),this.isIntegral&&(this.integerSolution=i,this.integerObjValue=n),!0};lpProblem.prototype.formatObjectiveValues=function(n=0){return n==0&&(n=this.mode),this.objectiveValues.map(t=>n==lp_Decimal?roundSigDig(t,this.sigDigits):t.toFracStr())};lpProblem.prototype.formatLastObjectiveValue=function(n=0){n==0&&(n=this.mode);var t=this.objectiveValues.length-1;return n==lp_Decimal?roundSigDig(this.objectiveValues[t],this.sigDigits):this.objectiveValues[t].toFracStr()};lpProblem.prototype.formatUnknowns=function(n=false){return this.unknowns.slice(0,n?this.unknowns.length:this.numActualUnknowns)};lpProblem.prototype.formatSolutions=function(n=false,t=0){return t==0&&(t=this.mode),this.solutions.map(i=>{for(var u=[],f=n?this.unknowns.length:this.numActualUnknowns,r=0;r<f;r++)u[r]=t==lp_Decimal?roundSigDig(i[r],this.sigDigits):i[r].toFracStr();return u})};lpProblem.prototype.formatLastSolution=function(n=false,t=0){var i;t==0&&(t=this.mode);var r=[],f=n?this.unknowns.length:this.numActualUnknowns,u=this.solutions.length-1;for(i=0;i<f;i++)r[i]=t==lp_Decimal?roundSigDig(this.solutions[u][i],this.sigDigits):this.solutions[u][i].toFracStr();return r};lpProblem.prototype.formatIntegerObjectiveValue=function(n=0){return n==0&&(n=this.mode),n==lp_Decimal?roundSigDig(this.integerObjValue,this.sigDigits):this.integerObjValue.toFracStr()};lpProblem.prototype.formatIntegerSolution=function(n=false){for(var i=[],r=!1,u=n?this.unknowns.length:this.numActualUnknowns,t=0;t<u;t++)r=this.integerUnknowns.indexOf(this.unknowns[t])>-1,i[t]=this.mode==lp_Decimal&&!r?roundSigDig(this.integerSolution[t],this.sigDigits):this.integerSolution[t].toFracStr();return i};lpProblem.prototype.solutionToString=function(){var r,t,u,i,n;if(this.status==lp_no_solution)return this.message;if(r=this.isIntegral?this.formatIntegerObjectiveValue():this.formatLastObjectiveValue(),t=this.formatUnknowns(this.showArtificialVariables),this.isIntegral&&typeof this.integerSolution=="undefined")return lp_noNiceSolutionErr;for(u=this.isIntegral?this.formatIntegerSolution(this.showArtificialVariables):this.formatLastSolution(this.showArtificialVariables),i=this.objectiveName+" = "+r+"; ",n=0;n<t.length;n++)i+=t[n]+" = "+u[n],n<t.length-1&&(i+=", ");return i};lpProblem.prototype.lastSolutionToString=function(){for(var r=this.formatLastObjectiveValue(),t=this.formatUnknowns(this.showArtificialVariables),u=this.formatLastSolution(this.showArtificialVariables),i=this.objectiveName+" = "+r+"; ",n=0;n<t.length;n++)i+=t[n]+" = "+u[n],n<t.length-1&&(i+=", ");return i};lpProblem.prototype.solnIsOfRightType=function(){for(var t,i,r=this.solutions[this.solutions.length-1],n=0;n<this.integerUnknowns.length;n++)if(t=this.unknowns.indexOf(this.integerUnknowns[n]),i=r[t],roundSigDig(i,this.maxSigDigits)!=Math.round(i))return t;return-1};tableau.prototype.pivot=function(n,t,i){for(var f,o,r=new tableau(this),s=r[n][t],h=r.length-1,e=r[1].length-1,u=1;u<=e;u++)r[n][u]=r[n][u]/s;for(f=1;f<=h;f++)if(f!=n)for(o=r[f][t],u=1;u<=e;u++)r[f][u]=roundSigDig(r[f][u],i+2)-roundSigDig(r[n][u]*o,i+2);return r[n][0]=r[0][t],r};tableau.prototype.stringArray=function(n,t){var o=this.length-1,f=this[1].length-1,u=this.map(function(n){return n.slice()}),r,i,e,s;switch(n){case lp_Integral:for(r=1;r<=o;r++){for(e=1,i=1;i<=f;i++)s=u[r][i].toFracArr(),e=lcm(e,s[2]);for(i=1;i<=f;i++)u[r][i]=Math.round(u[r][i]*e).toString()}break;case lp_Fraction:for(r=1;r<=o;r++)for(i=1;i<=f;i++)u[r][i]=roundSigDig(u[r][i],t).toFracStr();break;case lp_Decimal:for(r=1;r<=o;r++)for(i=1;i<=f;i++)u[r][i]=roundSigDig(u[r][i],t).toString()}return u};tableau.prototype.toString=function(n,t){for(var e=this.stringArray(n,t),s=e.length-1,f=e[1].length-1,r="",u=[],o,i=0;i<=f;i++)u[i]=5;for(o=0;o<=s;o++)for(i=0;i<=f;i++)typeof e[o][i]=="string"&&(u[i]=Math.max(u[i],e[o][i].length+1));for(r+="".padEnd(u[0])+"| ",i=1;i<=f-1;i++)r+=e[0][i].padCenter(u[i]);for(r+="|\n",r+="".padEnd(u[0],"-"),r+="+-",i=1;i<=f-1;i++)r+="".padEnd(u[i],"-");for(r+="+-"+"".padEnd(u[f],"-")+"\n",o=1;o<=s-1;o++){for(r+=(e[o][0]+" ").padStart(u[0]),r+="| ",i=1;i<=f-1;i++)r+=e[o][i].padCenter(u[i]);r+="| "+e[o][f].padCenter(u[f])+"\n"}for(r+="".padEnd(u[0],"-"),r+="+-",i=1;i<=f-1;i++)r+="".padEnd(u[i],"-");for(r+="+-"+"".padEnd(u[f],"-")+"\n",r+=(e[s][0]+" ").padStart(u[0]),r+="| ",i=1;i<=f-1;i++)r+=e[s][i].padCenter(u[i]);return r+("| "+e[s][f].padCenter(u[f])+"\n")};tableau.prototype.toHTML=function(n,t,i){for(var e,o=this.stringArray(n,t),h=o.length-1,s=o[1].length-1,c=("cellPadding"in i)?i.cellPadding:10,r=("lineColor"in i)?i.lineColor:"black",u="<table cellpadding = "+c.toString()+' cellspacing = "0"  style="display: inline; display: inline-table;"><tr><td style = "border-bottom: thin solid '+r+"; border-right: thin solid "+r+'"><\/td>',f=1;f<=s;f++)u+='<td style = "border-bottom: thin solid '+r+";  width:40px;text-align:center;"+(f==s-1?"border-right: thin solid "+r:"")+'"><b><i>'+(f==s?"":o[0][f].replace(/-/,"&minus;"))+"<\/i><\/b><\/td>";for(u+="<\/tr>",f=1;f<=h-1;f++){for(u+='<tr><td style = "text-align:right; border-right: thin solid '+r+'"><b><i>'+o[f][0].replace(/-/,"&minus;")+"<\/i><\/b><\/td>",e=1;e<=s;e++)u+=e==s-1?'<td style = "text-align:center; white-space:nowrap; border-right: thin solid '+r+'">':'<td style = "text-align:center; white-space:nowrap">',u+=o[f][e].toString().replace(/-/,"&minus;")+"<\/td>";u+="<\/tr>"}for(u+='<tr><td style = "text-align:right;border-top: thin solid '+r+"; border-right: thin solid "+r+'; "><b><i>'+o[h][0].replace(/-/,"&minus;")+"<\/i><\/b><\/td>",e=1;e<=s;e++)u+='<td style = "text-align:center; white-space:nowrap; border-top: thin solid '+r+";"+(e==s-1?"border-right: thin solid "+r:"")+'">'+o[h][e].toString().replace(/-/,"&minus;")+"<\/td>";return u+="<\/tr>",u+"<\/table>"};String.prototype.coefficients=function(n){for(var i,f,r,s=n.length,h,c,u=[],e=this.replace(/ /g,""),t=0;t<s;t++)try{h=new RegExp("("+n[t]+")\\+","g");c=new RegExp("("+n[t]+")\\-","g");e=e.replace(h,"$1 ").replace(c,"$1 -")}catch(o){throw lp_badExprErr+this+":\n"+o.message;}for(termArray=e.split(" "),i=[],u=[],t=0;t<termArray.length;t++)termArray[t].search(/[a-zA-Z]/)==0?termArray[t]="1"+termArray[t]:termArray[t].search(/\-[a-zA-Z]/)==0&&(termArray[t]=termArray[t].replace(/(\-)([a-zA-Z])/,"-1$2")),i[t]=termArray[t].replace(/ /g,"").replace(/([a-zA-Z])/," $1").split(" ");for(f=!1,t=0;t<s;t++){for(f=!1,r=0;r<i.length;r++)if(i[r][1]==n[t]){try{u.push(i[r][0].cleanEval())}catch(o){throw lp_illegalCoeffErr+n[t]+lp_inExprErr+this+(o!=""?":\n"+o:"");}f=!0;r=i.length}f||u.push(0)}return u};String.prototype.cleanEval=function(){if(!this.isArithmetical())throw lp_IllegCharsErr;try{return eval(this.toString())}catch(n){throw n.message;}};String.prototype.isSanitary=function(){return this.toString()==this.toString().replace(/[^0-9.,\/\(\)\+\-<>=≤≥a-zA-Z \t\r\n]/g,"")};String.prototype.isArithmetical=function(){return this.toString()==this.toString().replace(/[^0-9.\/\(\)\+\-]/g,"")};String.prototype.padCenter=function(n,t=" "){var i=n-this.length,r;return i<=0?this:(r=Math.floor((i+1)/2)+this.length,this.padStart(r,t).padEnd(n,t))};Array.prototype.roundToSigDig=function(n){return this.map(function(t){return typeof t=="number"?roundSigDig(t,n):Array.isArray(t)?t.roundToSigDig(n):t})};Number.prototype.toFracArr=function(n=1e3){for(var o=[,0,1],i=1,l=0,r=0,a=1,u,f,s=0,e,h,v=this<0,t=v?-this:this,c,y;;){if(c=Math.floor(t),y=roundSigDig(t-c,15),t=y,s=c,u=s*i+l,f=s*r+a,Math.abs(u)>1e10||f>n){e=i;h=r;break}if(t==0){e=u;h=f;break}l=i;i=u;a=r;r=f;t=1/t}return o[1]=v?-e:e,o[2]=h,o};Number.prototype.toFracStr=function(n=1e3){var t=this.toFracArr(n);return t[2]==1?t[1].toString():t[1].toString()+"/"+t[2].toString()};