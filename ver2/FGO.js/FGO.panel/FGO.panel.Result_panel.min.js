FGO.panel.Result_panel=function(n){this._options={class_name:"result_panel",read_only:!0};JIE.base.marge(this._options,n);this._body=null;this._container_list=[];this._target_list=null;this._AP_dom=null;this._quest_times_grid=null;this.onInfoClick=new JIE.event.Publisher("infoClick",this);FGO.panel.Result_panel.uber.constructor.call(this)};JIE.base.inherit(FGO.panel.Result_panel,JIE.component.Control_base,{_language:null,prepareNode:function(n){var t=this,r=FGO.language_manager,f,e;this._language=r;f=FGO.component.factory;this._body=n;n.className=this._options.class_name;n.id=this._options.class_name;e=f("Container",{class_name:"container",title:r.get_word("結果")});e.render(n);this._container_list.main=e;var o=FGO.info_manager.get_item_list(),h=FGO.info_manager.get_event_list(),c=FGO.info_manager.get_schedule_list(),i,s,u;rare_type=["bronze","silver","golden"],function(n){u="AP";var i=f("Container",{title:u}),r=NewObj("div","AP_area");r.appendChild(NewObj("span","text","AP："));t._AP_dom=NewObj("span");r.appendChild(t._AP_dom);i.add_content(r);n.add_content(i);t._container_list.ap=i}(e),function(n){u=r.get_word("クエスト");var i=f("Container",{title:u});t._quest_times_grid=f("Quest_times_grid");i.add_content(t._quest_times_grid);n.add_content(i);t._container_list.quest_times=i;t._container_list.quest_times_container=t._quest_times_grid}(e),function(n){u=r.get_word("輝石")+" & "+r.get_word("魔石")+" & "+r.get_word("秘石");i=f("Item_container",{read_only:!0,title:u});t._container_list.stone=i;n.add_content(i);t._list_creater(i,["stone"],o);i.onInfoClick.subscribe(function(n,i){t.onInfoClick.fire(r.get_JP_word(i[0]))})}(e),function(n){u=r.get_word("ピース")+" & "+r.get_word("モニュ");i=f("Item_container",{read_only:!0,title:u});t._container_list.chess=i;n.add_content(i);t._list_creater(i,["chess"],o);i.onInfoClick.subscribe(function(n,i){t.onInfoClick.fire(r.get_JP_word(i[0]))})}(e),function(n){s=["other"];u=r.get_word("銅素材")+" & "+r.get_word("銀素材")+" & "+r.get_word("金素材");i=f("Item_container",{read_only:!0,title:u});t._container_list.material=i;n.add_content(i);t._list_creater(i,["other"],o);i.onInfoClick.subscribe(function(n,i){t.onInfoClick.fire(i[0])})}(e)},_list_creater:function(n,t,i){var u,r,f,e;for(u in t)for(r in rare_type)if(i[t[u]][rare_type[r]]){e=[];for(f in i[t[u]][rare_type[r]])e[f]=this._language.get_word(i[t[u]][rare_type[r]][f]);n.add_item_grid(e,rare_type[r])}},set_value:function(n){this._AP_dom.innerText=n.AP;this._quest_times_grid.add_quest_times_list(n.times_list);for(var t in this._container_list)typeof this._container_list[t].reset=="function"&&(this._container_list[t].reset(),this._container_list[t].set_value(n.item_list));this._refresh_state()},set_target_item_list:function(n){this._target_list=n},set_quest_times:function(){},_refresh_state:function(){for(var n in this._container_list)this._container_list[n].refresh_state&&this._container_list[n].refresh_state(this._target_list)},refresh:function(){var t={},i,r;for(var n in this._container_list)if(typeof this._container_list[n].get_column_width=="function")if(i=this._container_list[n].get_column_width(),t[n])for(r in i)t[n][r]<i[r]&&(t[n][r]=i[r]);else t[n]=i;for(n in this._container_list)typeof this._container_list[n].set_column_width=="function"&&this._container_list[n].set_column_width(t[n])}});